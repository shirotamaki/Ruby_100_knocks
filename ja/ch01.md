---
title: "第1章: 準備運動"
date: 2020-04-27 01:10:03 +0900
layout: single
toc: true
lang: ja
sidebar: { nav: "sidebar_ja" }
header:
  teaser: /assets/images/ch01.png
---

## 00. 文字列の逆順

文字列"stressed"の文字を逆に（末尾から先頭に向かって）並べた文字列を得よ．

## 01. 「パタトクカシーー」

「パタトクカシーー」という文字列の 1,3,5,7 文字目を取り出して連結した文字列を得よ．

```ruby
 str = "パタトクカシーー"
 result = str[0] + str[2] + str[4] + str[6]
 puts result
 # パトカー
```

## 02. 「パトカー」＋「タクシー」＝「パタトクカシーー」

「パトカー」＋「タクシー」の文字を先頭から交互に連結して文字列「パタトクカシーー」を得よ．

```ruby
"パタトクカシーー".chars.select.with_index { |char, i| i.even? }.join
 #=> "パトカー"
```

## 03. 円周率（3.14159265359） 答えが円周率なのでタイトルが円周率になっとる

"Now I need a drink, alcoholic of course, after the heavy lectures involving quantum mechanics."という文を単語に分解し，各単語の（アルファベットの）文字数を先頭から出現順に並べたリストを作成せよ．

```ruby
sentence = "Now I need a drink, alcoholic of course, after the heavy lectures involving quantum mechanics."
fix_sentence = sentence.gsub!(/[,.]/, '')
words = fix_sentence.split(" ")
word_lengths = words.map { |word| word.length }

puts word_lengths
=> [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8, 9, 7, 9]
３.1 4 1 5 9 2 6 5 3 5 8 9
```

メソッド gsub
gsub メソッドはマッチしたすべての部分を特定の文字列に置き換えるメソッド

- https://docs.ruby-lang.org/ja/latest/method/String/i/gsub.html

## 04. 元素記号

"Hi He Lied Because Boron Could Not Oxidize Fluorine. New Nations Might Also Sign Peace Security Clause. Arthur King Can."という文を単語に分解し，1, 5, 6, 7, 8, 9, 15, 16, 19 番目の単語は先頭の 1 文字，それ以外の単語は先頭の 2 文字(1 文字目と 2 文字目を取り出せ)を取り出し，取り出した文字列から単語の位置（先頭から何番目の単語か）への連想配列（辞書型もしくはマップ型）を作成せよ．

```ruby
text = "Hi He Lied Because Boron Could Not Oxidize Fluorine. New Nations Might Also Sign Peace Security Clause. Arthur King Can."
hash = {}
words = text.split(" ")
words.each_with_index do |word, i|
  if [1, 5, 6, 7, 8, 9, 15, 16, 19].include?(i + 1)
     hash[i + 1] = word[0]
  else
    hash[i + 1] = word[0..1]
  end
end

p hash
```

https://scrapbox.io/tamaki/%E3%83%8F%E3%83%83%E3%82%B7%E3%83%A5%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB

## 05. n-gram

与えられたシーケンス（文字列やリストなど）から n-gram を作る関数を作成せよ．この関数を用い，"I am an NLPer"という文から単語 bi-gram，文字 bi-gram を得よ．

- シーケンス Sequences

  - IT の分野では、順番に並んだ一続きのデータや手順のことや、並んだ順番にデータや手順を取り扱う処理方式などのことを意味する
  - シーケンス（sequence）とは、連続して発生する順番そのものやそのように並んでいるものを処理することをいう。

- N-gram
  - N-gram とは任意の文字数で文章を分割する手法のことです https://aiacademy.jp/media/?p=3030
  - https://zero2one.jp/ai-word/n-gram/#:~:text=n%2Dgram%E3%81%A8%E3%81%AF%E3%80%81%E5%8D%98%E8%AA%9E,n%2Dgram%E3%81%A8%E5%91%BC%E3%81%B3%E3%81%BE%E3%81%99%E3%80%82

N-gram では n が 1 の場合、uni-gram（ユニグラム）と呼び、
2 の場合を bi-gram（バイグラム）、
3 の場合を tri-gram（トライグラム）と呼びます。

文字数ではなく、単語の数の単位。
bi-gram の場合： I am / am an / an NLPer
tri-gram の場合： I am an / am an NLPer

- each_cons
  - https://docs.ruby-lang.org/ja/3.2/method/Enumerable/i/each_cons.html
  - each_slice と似ているが、each_slice メソッドとは違い、[要素 1, 要素 2, 要素 3, ...]、[要素 2, 要素 3, 要素 4, ...]、[要素 3, 要素 4, 要素 5, ...]、...のように取り出すよ。

```ruby
def ngram(n, sequence)
  result = []

  tokens = sequence.split(" ")

  tokens.each_cons(n) do |ngram|
    result << ngram.join(" ")
  end

  result
end

# 結果
# irb(main):013:0> ngram(1, "I am an NLPer")
# => ["I", "am", "an", "NLPer"]
# irb(main):012:0> ngram(2, "I am an NLPer")
# => ["I am", "am an", "an NLPer"]
# irb(main):014:0> ngram(3, "I am an NLPer")
# => ["I am an", "am an NLPer"]
# irb(main):015:0> ngram(4, "I am an NLPer")
# => ["I am an NLPer"]
# irb(main):016:0> ngram(5, "I am an NLPer")
# => []
```

## 06. 集合

"paraparaparadise"と"paragraph"に含まれる文字 bi-gram の集合を，それぞれ, X と Y として求め，X と Y の和集合，積集合，差集合を求めよ．さらに，'se'という bi-gram が X および Y に含まれるかどうかを調べよ．

## 07. テンプレートによる文生成

引数 x, y, z を受け取り「x 時の y は z」という文字列を返す関数を実装せよ．さらに，x=12, y="気温", z=22.4 として，実行結果を確認せよ．

## 08. 暗号文

与えられた文字列の各文字を，以下の仕様で変換する関数 cipher を実装せよ．

- 英小文字ならば(219 - 文字コード)の文字に置換
- その他の文字はそのまま出力

この関数を用い，英語のメッセージを暗号化・復号化せよ．

## 09. Typoglycemia

スペースで区切られた単語列に対して，各単語の先頭と末尾の文字は残し，それ以外の文字の順序をランダムに並び替えるプログラムを作成せよ．ただし，長さが４以下の単語は並び替えないこととする．適当な英語の文（例えば"I couldn't believe that I could actually understand what I was reading : the phenomenal power of the human mind ."）を与え，その実行結果を確認せよ．
